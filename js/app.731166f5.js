(function(t){function e(e){for(var a,o,r=e[0],l=e[1],u=e[2],d=0,m=[];d<r.length;d++)o=r[d],i[o]&&m.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/caffeine-tracker/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),i=n("8a03"),s=n.n(i),o=(n("5abe"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container content"},[n("h1",{staticClass:"title is-2"},[t._v("Caffeine tracker")]),null!=t.lastKnownAmount?n("nav",{staticClass:"level"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Current level")]),n("p",{staticClass:"title"},[t._v(t._s(Math.round(t.amountAtUnixtime(Date.now())))+" mg")])])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("In three hours")]),n("p",{staticClass:"title"},[t._v(t._s(Math.round(t.amountAtUnixtime(Date.now()+108e5)))+" mg")])])]),(new Date).getHours()<20.5?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("At 23:00")]),n("p",{staticClass:"title",class:{insignificant:t.amountAtHoursOfDay(23)<20}},[t._v(t._s(t.amountAtHoursOfDay(23))+" mg")])])]):t._e(),(new Date).getHours()>19&&t.amountAtHoursOfDay(7)>5?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("At 7:00")]),n("p",{staticClass:"title"},[t._v(t._s(t.amountAtHoursOfDay(7))+" mg")])])]):t._e()]):t._e(),n("button",{staticClass:"button is-fullwidth is-medium is-primary",on:{click:function(e){t.inputModalActive=!0}}},[t._v("Record a drink")]),n("b-modal",{attrs:{active:t.inputModalActive},on:{"update:active":function(e){t.inputModalActive=e}}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Time")]),n("div",{staticClass:"control"},[n("b-timepicker",{attrs:{inline:"","is-medium":""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Amount of caffeine in miligrams")]),n("div",{staticClass:"control"},[n("b-numberinput",{attrs:{min:"0",step:"5",placeholder:"miligrams"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)]),n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("b-button",{attrs:{type:"is-primary"},on:{click:t.saveIngestion}},[t._v("Save")])],1)])])])])]),n("br"),t.currentAmount>400?n("article",{staticClass:"is-danger message"},[t._m(0),n("div",{staticClass:"message-body"},[t._v("\n            Doses higher than 400 mg cause overdose symptoms like nausea, vomiting, jitters, restlessness and nervousness. Your sleep will be severely impaired.\n          ")])]):t._e(),n("hr"),t._m(1)],1)])}),r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-header"},[n("p",[t._v("You overdid it.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("a",{attrs:{href:"https://github.com/tensojka/caffeine-tracker"}},[t._v("source code")])])}],l={name:"app",data:()=>{return{lastKnownAmount:null,lastKnownAmountTime:null,inputModalActive:!1,time:new Date,amount:0}},methods:{amountAtUnixtime:function(t){if("number"!=typeof t)throw"Date passed to amountAtUnixtime MUST BE number";const e=18e6;var n=this.lastKnownAmount*Math.pow(.5,(t-this.lastKnownAmountTime)/e);return n},amountAtHoursOfDay:function(t){var e=new Date;return e.getHours()>t?Math.round(this.amountAtUnixtime(new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,t).valueOf())):Math.round(this.amountAtUnixtime(new Date(e.getFullYear(),e.getMonth(),e.getDate(),t).valueOf()))},computeLastKnown:function(){if(this.lastKnownAmount=null,this.lastKnownAmountTime=null,null!=window.localStorage.getItem("ingestions"))for(var t=JSON.parse(window.localStorage.getItem("ingestions")),e=0;e<t.length;e++)null!=this.lastKnownAmountTime?this.lastKnownAmount=this.amountAtUnixtime(new Date(t[e].t).valueOf())+t[e].v:this.lastKnownAmount=t[e].v,this.lastKnownAmountTime=new Date(t[e].t)},saveIngestion:function(){var t,e=window.localStorage.getItem("ingestions");t=null==e?[]:JSON.parse(e),t.push({t:this.time,v:this.amount}),window.localStorage.setItem("ingestions",JSON.stringify(t)),this.computeLastKnown(),this.inputModalActive=!1}},computed:{currentAmount:function(){return this.amountAtUnixtime((new Date).valueOf())}},mounted(){this.computeLastKnown()}},u=l,c=(n("034f"),n("2877")),d=Object(c["a"])(u,o,r,!1,null,null,null),m=d.exports,f=n("9483");Object(f["a"])("/caffeine-tracker/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),a["default"].config.productionTip=!1,a["default"].use(s.a),new a["default"]({render:function(t){return t(m)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.731166f5.js.map